## Mosaics

In Symbol, all tokens (including the base layer currency, $XYM) are referred to as mosaics. You can think of mosaics as similar to an ERC-20 token from Ethereum, or a colored coin from Bitcoin.

Rather than having multiple *types* of tokens, Symbol instead employs a ruleset to define how tokens can be traded, brought or sold.

The current rulesets that can be defined for mosaics are: supply, transfer, and revoke.

Supply defines the total supply of a mosaic - that is, your token's 'cap'. It must be within a range of 0&ndash;8'999'999'999'000'000 atomic units. The limit is defined by `[insert reason here]`, and can be modified by changing `maxMosaicAtomicUnits` inside `config-network.settings`, in case of existing network this would result in hard fork and some more changes in the client would be needed inside https://github.com/symbol/symbol/blob/dev/client/catapult/plugins/txes/mosaic/src/validators/MosaicSupplyChangeAllowedValidator.cpp. The supply ruleset also has an additional flag, allowing for "modifiable" or "fixed" - modifiable means the total supply can be altered by the creator, whereas fixed means the total supply is defined at creation and can not be altered.

Transfer specifies who you can transfer your mosaic to - it can be open (and thus the creator and subsequent owner can transfer it to any account on the network), or you can specify a whitelist of addresses (inclusive) or a blacklist of addresses (exclusive).

Revoke allows the creator of a mosaic to recall the supply from holders **at any time**.

### Tutorial: Creating a Mosaic

TODO: Should this be an aggregate that contains definition + supply + namespace + alias?

!example create_mosaic_definition_transaction

Corresponding transaction: [9BDA…78A8](https://testnet.symbol.fyi/transactions/9BDA55FADF7C34B854C5ABB9535944ECF75AB508E367F1A25D070507CD8078A8)

**Create a supply:**

Mosaic above has id `0x1788BA84888894EB`, following transaction will increase it's supply. Supply needs to be specified in atomic unis. Mosaic has divisibility set to 2, so to create 123 mosaics `12300` needs to be specified as number of units.

!example create_mosaic_supply_transaction

Corresponding transaction: [6115…142E](https://testnet.symbol.fyi/transactions/6115527581BC9874B51967EB8E5574D2B6CEA82463A7892190555E215910142E)

### Tutorial: Working with Rules (restrictions?)

There are two kind of mosaic restrictions:
 * global
 * address-based

Global restrictions allow to define global rules, that determine if account is able to send or receive given mosaic.

Mosaic from [creating a mosaic](#Tutorial:-Creating-a-Mosaic) example has id `0x1788BA84888894EB`.

!example create_global_mosaic_restriction_transaction_new

Corresponding transaction: [8F93…F306](https://testnet.symbol.fyi/transactions/8F938362633A3CDE06F5599E70FCFF19202C87DB6F03C06DE058D4D34B27F306)

After this transaction in order to be able to send mosaic to anyone,
owner first need to set mosaic address restrictions **including own account**.

It's called restriction, but technically this is addresss-based mosaic-level metadata, that is accessed by global restriction rule.

!example create_address_mosaic_restriction_transaction_1
!example create_address_mosaic_restriction_transaction_2
!example create_address_mosaic_restriction_transaction_3

Notice, that **TBOBBY** account has value set to 1, while **TALICE** set to 2, this will be used later.

Corresponding transactions: [F5B4…EC7C](https://testnet.symbol.fyi/transactions/F5B492307C21BE7F9017728BDF881734527E5A0658F1EAFFB30B35F00411EC7C), [1621…7CEB](https://testnet.symbol.fyi/transactions/1621B322FE288DF1202F1EA7F433373374CB6E5284BB779803359EDCC5197CEB), [5154…6A7F](https://testnet.symbol.fyi/transactions/515431554B5A971CB0D77BE9393F327E2CA4A9F888FA1D40CF563493C2CE6A7F)

Owner can send some `0x1788BA84888894EB` mosaic to two other accounts, both can transfer it as well.
Corresponding transactions: [25BE…918F](https://testnet.symbol.fyi/transactions/25BEC04709D95202460795A229DE3879BBAB623529B0E546889027207931918F), [9539…7E1A](https://testnet.symbol.fyi/transactions/95399DDC03DF52C2C9F63A855C7F7C975FB60A7362BD5FCB92DFDACE1C5E7E1A), [E8D2…316C](https://testnet.symbol.fyi/transactions/E8D24F266FBABD828219D7DE6FBA5B36C7378D09FB365E0AD77528C359A1316C), [C5B5…095E](https://testnet.symbol.fyi/transactions/C5B5BF7A7A32AD6D8B474153BA86851F874D785EC99A29C282AAEC47B6BE095E)

!example create_global_mosaic_restriction_transaction_modify

Corresponding transaction: [4B67…2654](https://testnet.symbol.fyi/transactions/4B67957FFEC54D0011E79DCB3612D6C92DC0205299CC57CC54E93CD830EC2654)

After this transaction **TALICE** can send and receive transaction, but **TBOBBY** cannot.
**TBOBBY** will get `Failure_RestrictionMosaic_Account_Unauthorized` as a transaction status when trying to send the mosaic.

Corresponding transaction (from **TALICE**): [70E5…5EC6](https://testnet.symbol.fyi/transactions/70E50F659CAE226917A91197CA76C9624254047F0FB956349CD28701A7EA5EC6)

### Tutorial: Adding, Modifying or Querying (Mosaic) Metadata

### Tutorial: Performing an Atomic Swap

Atomic swaps within Symbol network are trivial, thanks to aggregate transactions.

Example below is using complete aggregate transaction, meaning both parties sign transaction before announcing it to the network.
Alternative would be creating a lock and bonded aggregate transaction, so that the other party could cosign simply by announcing cosignature to the network.

Cross-chain swaps can be found in [advanced topics](#Advanced-Topics) section.

**TA4RYH** wants to send 200 xym to **TALICE** in exchange for 1 piece of mosaic `0x64B6D476EC60C150`.

!example create_mosaic_atomic_swap

Corresponding transaction:
[F6D1…BC55](https://testnet.symbol.fyi/transactions/F6D1E60A7FC47B88D16D3B8358D79EAE5EAAB328F4D988DE45669BD013C8BC55)

### Tutorial: Querying State of a Mosaic (Current, Historical, Namespace)
